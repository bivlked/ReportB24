# üîí –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ReportB24

## üöÄ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ pre-commit —Ö—É–∫–æ–≤

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ pre-commit
pip install pre-commit

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ö—É–∫–æ–≤
pre-commit install

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Git —Ö—É–∫–æ–≤
git config core.hooksPath .githooks
chmod +x .githooks/pre-commit
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏—Å—Ç–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```bash
# –¢–µ—Å—Ç —Å–∫—Ä–∏–ø—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏
python scripts/security_check.py

# –¢–µ—Å—Ç pre-commit —Ö—É–∫–æ–≤
pre-commit run --all-files

# –¢–µ—Å—Ç Git —Ö—É–∫–∞
.githooks/pre-commit
```

### 3. –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

```bash
# –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ –æ—á–∏—Å—Ç–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏
bash git-history-cleanup.sh
```

## üìã Checklist –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:
- [ ] –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π webhook –≤ Bitrix24
- [ ] –û–±–Ω–æ–≤–∏—Ç—å config.ini —Å –Ω–æ–≤—ã–º webhook
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å pre-commit —Ö—É–∫–∏
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- [ ] –û—á–∏—Å—Ç–∏—Ç—å Git –∏—Å—Ç–æ—Ä–∏—é (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

### ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å GitHub Actions
- [ ] –°–æ–∑–¥–∞—Ç—å .secrets.baseline –¥–ª—è detect-secrets
- [ ] –û–±—É—á–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –Ω–æ–≤—ã–º –ø—Ä–æ—Ü–µ—Å—Å–∞–º
- [ ] –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –∞—É–¥–∏—Ç—ã

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Pre-commit —Ö—É–∫–∏

–§–∞–π–ª `.pre-commit-config.yaml` —Å–æ–¥–µ—Ä–∂–∏—Ç:
- –ë–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–∞–π–ª–æ–≤
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Python –∫–æ–¥–∞
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### GitHub Actions

–§–∞–π–ª `.github/workflows/security-check.yml` –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∏ push/PR
- –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –∞—É–¥–∏—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ü—Ä–æ–≤–µ—Ä–∫—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–∏
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—é –æ—Ç—á–µ—Ç–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### Git —Ö—É–∫–∏

–§–∞–π–ª `.githooks/pre-commit` –≤—ã–ø–æ–ª–Ω—è–µ—Ç:
- –ü—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ —É—Ç–µ—á–∫–∏ webhook
- –í–∞–ª–∏–¥–∞—Ü–∏—é —Ñ–∞–π–ª–æ–≤ Memory Bank
- –°—Ç—Ä–æ–≥—É—é –ø—Ä–æ–≤–µ—Ä–∫—É –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

## üö® –†–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã

### –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ —É—Ç–µ—á–∫–∏:

1. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ**:
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∞—Å—à—Ç–∞–± –ø—Ä–æ–±–ª–µ–º—ã
   python scripts/security_check.py
   
   # –ù–∞–π—Ç–∏ –≤—Å–µ –≤—Ö–æ–∂–¥–µ–Ω–∏—è
   grep -r "problem_pattern" .
   ```

2. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å**:
   ```bash
   # –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã
   sed -i 's/real_webhook/https:\/\/your-portal.bitrix24.ru\/rest\/***\/***\//g' file.md
   ```

3. **–ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å**:
   ```bash
   git add .
   git commit -m "SECURITY: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —É—Ç–µ—á–∫–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤"
   ```

4. **–°–º–µ–Ω–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã**:
   - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π webhook –≤ Bitrix24
   - –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å—Ä–µ–¥—ã
   - –£–≤–µ–¥–æ–º–∏—Ç—å –∫–æ–º–∞–Ω–¥—É

## üìö –ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ:
```bash
https://your-portal.bitrix24.ru/rest/***/***/
https://portal.bitrix24.ru/rest/12/***/
BITRIX_WEBHOOK_URL=https://your-portal.bitrix24.ru/rest/USER_ID/TOKEN/
```

### ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:
```bash
https://realportal.bitrix24.ru/rest/12/realsecret123/
real_webhook_token_here
–∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ—Ä—Ç–∞–ª–∞
```

## üîÑ –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

### –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ:
- –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ê—É–¥–∏—Ç –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ Memory Bank
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ GitHub Actions

### –ï–∂–µ–º–µ—Å—è—á–Ω–æ:
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –†–æ—Ç–∞—Ü–∏—è API —Ç–æ–∫–µ–Ω–æ–≤ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ pre-commit

### –ï–∂–µ–∫–≤–∞—Ä—Ç–∞–ª—å–Ω–æ:
- –ü–æ–ª–Ω—ã–π security audit —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –û–±—É—á–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã –Ω–æ–≤—ã–º —É–≥—Ä–æ–∑–∞–º

---

*–î–æ–∫—É–º–µ–Ω—Ç –æ–±–Ω–æ–≤–ª–µ–Ω: 2025-01-20*  
*–í–µ—Ä—Å–∏—è: 1.0*  
*–°—Ç–∞—Ç—É—Å: –ê–ö–¢–£–ê–õ–ï–ù*